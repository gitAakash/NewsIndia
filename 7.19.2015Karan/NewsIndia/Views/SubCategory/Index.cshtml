@using System.Linq
@using BusinessClasses
@model List<BusinessClasses.SubCategoryModel>
@{

    ViewBag.Tile = ViewBag.SubCategoryName;
}
<head>
    <title>
        @ViewBag.Tile
    </title>
</head>

<div>
    @if (Model.Count == 0)
    {
        <div>
            <img src="~/Content/Images/NoDataImage.png" class="NoDataImg" />
            <h1 class="NoData">Sorry No Content Present under this Category.</h1>
        </div>
    }
    else
    {
        foreach (var item in Model)
        {
            <a href='@string.Format("../Home/Details/{0}", item.SubCategoryDataId)' style="text-decoration: none;color:inherit;">

                @*NewCode*@
                @{
            int val = 4;
            if (item.Attachments.Any(m => m.FileType == AttachmentType.Video))
            {
                val = 1;
            }
            else if (item.Attachments.Any(m => m.FileType == AttachmentType.Image))
            {
                val = 2;
            }
            else if (item.Attachments.Any(m => m.FileType == AttachmentType.Audio))
            {
                val = 3;
            }
                }






                <div class="news-sec-1 float-width">
                    <div class="float-width sec-cont2">
                        @*   <h3 class="sec-title">MUSIC NEWS</h3>*@
                        <div class="sec-1-sm" style="width: 100%">
                            @switch (val)
                            {
                                case 1:
                                    <img src="@Url.Content("/Content/Images/VideoImage.png")" class="MediaThumbnail" />
                                    break;
                                case 2:
                                @*<img src="@Url.Content("/Content/Images/UploadedImages/"+item.Attachments.FirstOrDefault(m=>m.FileType==AttachmentType.Image).FileName)" class="MediaThumbnail ImageThumbnail" />*@
                               <img src="@Url.Content("/AttachmentUploads/" + item.Attachments.FirstOrDefault(m => m.FileType == AttachmentType.Image).FileName)" class="MediaThumbnail ImageThumbnail" />
                                    break;
                                case 3:
                                <img src="@Url.Content("/Content/Images/AudioImage.png")" class="MediaThumbnail" />
                                    break;
                                default:
                                <img src="@Url.Content("/Content/Images/DocumentImage.png")" class="MediaThumbnail" />
                                    break;



                            }


                            @*<div class="sec-1-big-text lefty">
                                    <h3>Famous artist share his tracks for free</h3>
                                    <h6>
                                        <span><i class="fa fa-user"></i>John Doe</span><span><i class="fa fa-clock-o"></i>@DateTime.Now.ToString("dd MMM yyyy")</span><span>
                                        <i class="fa fa-comment-o">
                                        </i>21 comments
                                    </span>
                                </h6>*@


                            <div class="sec-1-sm-text blocky" style="width:82%">
                                <h3>@item.Title</h3>
                                <h6><span><i class="fa fa-clock-o"></i>@DateTime.Now.ToString("dd MMM yyyy")</span><span><i class="fa fa-comment-o"></i>21 comments</span></h6>
                                @*<p >*@
                                <div class="ellipsis">
                                    @item.Description
                                </div>  @*</p>*@
                            </div>

                        </div>
                    </div>
                    @*<div class="sec-1-sm">
                            <img alt="" class="blocky" src="img/samples/e5.jpg">
                            <div class="sec-1-sm-text blocky">
                                <h3>TOP 10 Pop track list past year</h3>
                                <h6><span><i class="fa fa-clock-o"></i>20 Jan 2014</span><span><i class="fa fa-comment-o"></i>21 comments</span></h6>
                                <p>Suspendisse dapibus blandit auctor. Aenean nisl felis, fermentum in ante sit...</p>
                            </div>
                        </div>
                        <div class="sec-1-sm">
                            <img alt="" class="blocky" src="img/samples/e6.jpg">
                            <div class="sec-1-sm-text blocky">
                                <h3>Another Hip-Hop rising star</h3>
                                <h6><span><i class="fa fa-clock-o"></i>20 Jan 2014</span><span><i class="fa fa-comment-o"></i>21 comments</span></h6>
                                <p>Suspendisse dapibus blandit auctor. Aenean nisl felis, fermentum in ante sit...</p>
                            </div>
                        </div>
                        <div class="sec-1-sm">
                            <img alt="" class="blocky" src="img/samples/e7.jpg">
                            <div class="sec-1-sm-text blocky">
                                <h3>New MP3 tracks are coming </h3>
                                <h6><span><i class="fa fa-clock-o"></i>20 Jan 2014</span><span><i class="fa fa-comment-o"></i>21 comments</span></h6>
                                <p>Suspendisse dapibus blandit auctor. Aenean nisl felis, fermentum in ante sit...</p>
                            </div>
                        </div>
                        <div class="sec-1-sm">
                            <img alt="" class="blocky" src="img/samples/e8.jpg">
                            <div class="sec-1-sm-text blocky">
                                <h3>DJ Open Music Festival 2014</h3>
                                <h6><span><i class="fa fa-clock-o"></i>20 Jan 2014</span><span><i class="fa fa-comment-o"></i>21 comments</span></h6>
                                <p>Suspendisse dapibus blandit auctor. Aenean nisl felis, fermentum in ante sit...</p>
                            </div>
                        </div>*@
                </div>
        
        @*Till here new Code*@
















        @*<div class="ListItemDiv">
                    @{
            int val = 4;
            if (item.Attachments.Any(m => m.FileType == AttachmentType.Video))
            {
                val = 1;
            }
            else if (item.Attachments.Any(m => m.FileType == AttachmentType.Image))
            {
                val = 2;
            }
            else if (item.Attachments.Any(m => m.FileType == AttachmentType.Audio))
            {
                val = 3;
            }
                    }

                    @switch (val)
                    {
                        case 1:
                            <img src="@Url.Content("/Content/Images/VideoImage.png")" class="MediaThumbnail" />
                            break;
                        case 2:
                        <img src="@Url.Content("/Content/Images/UploadedImages/"+item.Attachments.FirstOrDefault(m=>m.FileType==AttachmentType.Image).FileName)" class="MediaThumbnail ImageThumbnail" />
                            break;
                        case 3:
                        <img src="@Url.Content("/Content/Images/AudioImage.png")" class="MediaThumbnail" />
                            break;
                        default:
                        <img src="@Url.Content("/Content/Images/DocumentImage.png")" class="MediaThumbnail" />
                            break;



                    }

                </div>

                <div class="SubCategoryDetailPara">
                    <h1 class="SubCategoryTitle">@item.Title</h1>
                    <p>@(String.Join(" ", (item.Description + "asdasd adad asda adas da d asd a da da d ad ada da d a da d asd a da sd as d asd a d asd as d asd a s d asd as da sd as daas a d asd a da da das d ad asd ad a d a d sdasdasdas  a das da sd as").Split(' ').Take(60)))

                    <p style="font-weight: bold">Read More</p>
                    </p>

                </div>*@
        </a>
        }
    }
    </div>

    <link href="~/Content/ViewCss/SubCategoryList.css" rel="stylesheet" />